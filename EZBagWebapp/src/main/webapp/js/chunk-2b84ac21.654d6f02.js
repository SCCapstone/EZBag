(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b84ac21"],{"852a":function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",[s("div",{attrs:{id:"wrapper"}},[s("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.show_popup,callback:function(t){e.show_popup=t},expression:"show_popup"}},[s("v-card",[s("v-card-title",{staticClass:"headline"},[e._v(" "+e._s(e.popupHeader)+" ")]),s("v-card-text",[e._v(e._s(e.popupText))]),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{justify:"center",color:"green darken-1",text:""},on:{click:function(t){e.show_popup=!1}}},[e._v(" OK ")])],1)],1)],1),s("form",[s("div",{staticClass:"center",attrs:{id:"headerText"}},[e._v(" Welcome to EZBag"),s("br"),s("br")]),s("div",{staticClass:"center",staticStyle:{"font-size":"18px"}},[e._v(" Login ")]),s("v-text-field",{attrs:{rules:[e.rules.required,e.rules.emailRules],label:"E-mail",required:"",id:"email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),s("v-text-field",{attrs:{"append-icon":e.show1?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min],type:e.show1?"text":"password",label:"Password",hint:"At least 8 characters required",id:"password"},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),s("div",{staticClass:"center"},[s("v-btn",{staticClass:"mr-4",attrs:{id:"submit"},on:{click:e.submit}},[e._v(" Login ")])],1)],1),s("div",[s("br"),e._v(" New to EZBag? "),s("router-link",{attrs:{to:"/register"}},[e._v("Sign up")])],1)],1)])},a=[],r=s("5530"),i=s("2f62"),n=s("2b0e"),c=s("2b27"),p=s.n(c);n["a"].use(p.a);var l={name:"login",data:function(){return{password:"",email:"",popupHeader:"Login failure",popupText:"Something went wrong",show_popup:!1,show1:!1,show2:!1,rules:{required:function(e){return!!e||"Required."},min:function(e){return e.length>=8||"Min 8 characters"},emailRules:function(e){return/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e)||"E-mail must be valid"}}}},mounted:function(){this.$emit("toggleHeader","none")},methods:Object(r["a"])(Object(r["a"])({},Object(i["b"])(["loginUser"])),{},{submit:function(){var e=this;return this.password.length<8||!/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(this.email)?(this.show_popup=!0,this.popupHeader="Oops!",this.popupText="Field requirements have not been met.",!1):(this.loginUser({email:this.email,password:this.password}).then((function(t){e.$dbg_console_log(t),1==t.success?(e.$cookies.set("token",t.token,{secure:!0,expires:99983090}),console.log("TOKEN",t.token),e.$router.push("/store"),e.$dbg_console_log("Successful login")):(e.show_popup=!0,e.popupHeader="Login failure",e.popupText=t.message)})).catch((function(t){e.show_popup=!0,e.popupHeader="Internal Server Error",e.popupText="Something went wrong",e.$dbg_console_log(t)})),!0)}})},u=l,d=(s("cdc4"),s("2877")),w=s("6544"),h=s.n(w),m=s("8336"),v=s("b0af"),f=s("99d9"),g=s("a523"),b=s("169a"),_=s("2fa4"),x=s("8654"),k=Object(d["a"])(u,o,a,!1,null,"c1916cdc",null);t["default"]=k.exports;h()(k,{VBtn:m["a"],VCard:v["a"],VCardActions:f["a"],VCardText:f["c"],VCardTitle:f["d"],VContainer:g["a"],VDialog:b["a"],VSpacer:_["a"],VTextField:x["a"]})},cdc4:function(e,t,s){"use strict";s("ed32")},ed32:function(e,t,s){}}]);
//# sourceMappingURL=chunk-2b84ac21.654d6f02.js.map