{"version":3,"sources":["webpack:///./src/views/merchant/BusinessLogin.vue?cb8f","webpack:///src/views/merchant/BusinessLogin.vue","webpack:///./src/views/merchant/BusinessLogin.vue?f0ae","webpack:///./src/views/merchant/BusinessLogin.vue?b882","webpack:///./src/views/merchant/BusinessLogin.vue?8e2d"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","model","value","callback","$$v","show_popup","expression","staticClass","_v","_s","popupHeader","popupText","on","$event","staticStyle","rules","required","emailRules","email","show1","min","password","submit","staticRenderFns","show2","component","VBtn","VCard","VCardActions","VCardText","VCardTitle","VContainer","VDialog","VSpacer","VTextField"],"mappings":"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","file":"js/chunk-2b84ac21.654d6f02.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('div',{attrs:{\"id\":\"wrapper\"}},[_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"290\"},model:{value:(_vm.show_popup),callback:function ($$v) {_vm.show_popup=$$v},expression:\"show_popup\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\" \"+_vm._s(_vm.popupHeader)+\" \")]),_c('v-card-text',[_vm._v(_vm._s(_vm.popupText))]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"justify\":\"center\",\"color\":\"green darken-1\",\"text\":\"\"},on:{\"click\":function($event){_vm.show_popup = false}}},[_vm._v(\" OK \")])],1)],1)],1),_c('form',[_c('div',{staticClass:\"center\",attrs:{\"id\":\"headerText\"}},[_vm._v(\" Welcome to EZBag\"),_c('br'),_c('br')]),_c('div',{staticClass:\"center\",staticStyle:{\"font-size\":\"18px\"}},[_vm._v(\" Login \")]),_c('v-text-field',{attrs:{\"rules\":[_vm.rules.required, _vm.rules.emailRules],\"label\":\"E-mail\",\"required\":\"\",\"id\":\"email\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_c('v-text-field',{attrs:{\"append-icon\":_vm.show1 ? 'mdi-eye' : 'mdi-eye-off',\"rules\":[_vm.rules.required, _vm.rules.min],\"type\":_vm.show1 ? 'text' : 'password',\"label\":\"Password\",\"hint\":\"At least 8 characters required\",\"id\":\"password\"},on:{\"click:append\":function($event){_vm.show1 = !_vm.show1}},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('div',{staticClass:\"center\"},[_c('v-btn',{staticClass:\"mr-4\",attrs:{\"id\":\"submit\"},on:{\"click\":_vm.submit}},[_vm._v(\" Login \")])],1)],1),_c('div',[_c('br'),_vm._v(\" New to EZBag? \"),_c('router-link',{attrs:{\"to\":\"/register\"}},[_vm._v(\"Sign up\")])],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container>\n    <div id=\"wrapper\">\n        <v-dialog\n        v-model=\"show_popup\"\n        persistent\n        max-width=\"290\"\n        >\n        <v-card>\n            <v-card-title class=\"headline\">\n            {{popupHeader}}\n            </v-card-title>\n            <v-card-text>{{popupText}}</v-card-text>\n            <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn\n                justify=\"center\"\n                color=\"green darken-1\"\n                text\n                @click=\"show_popup = false\"\n            >\n                OK\n            </v-btn>\n            </v-card-actions>\n        </v-card>\n        </v-dialog>\n        <form>\n            <div class=\"center\" id=\"headerText\">\n            Welcome to EZBag<br><br>\n            </div>\n            <div class=\"center\" style=\"font-size: 18px;\">\n                Login\n            </div>\n            <v-text-field\n            v-model=\"email\"\n            :rules=\"[rules.required, rules.emailRules]\"\n            label=\"E-mail\"\n            required\n            id=\"email\"\n            ></v-text-field>\n            <v-text-field\n            v-model=\"password\"\n            :append-icon=\"show1 ? 'mdi-eye' : 'mdi-eye-off'\"\n            :rules=\"[rules.required, rules.min]\"\n            :type=\"show1 ? 'text' : 'password'\"\n            label=\"Password\"\n            hint=\"At least 8 characters required\"\n            id=\"password\"\n            @click:append=\"show1 = !show1\"\n            ></v-text-field>\n            <div class=\"center\">\n            <v-btn\n                class=\"mr-4\"\n                @click=\"submit\"\n                id=\"submit\"\n            >\n                Login\n            </v-btn>\n            </div>\n        </form>\n        <div>\n            <br>\n            New to EZBag? <router-link to=\"/register\">Sign up</router-link>\n        </div>\n    </div>\n  </v-container>\n</template>\n\n<script>\n  import {mapActions} from 'vuex';\n  import Vue from 'vue'\n  import VueCookies from 'vue-cookies';\n  Vue.use(VueCookies);\n  export default {\n    name: 'login',\n\n    data: () => ({\n\n      \n      password: \"\",\n      email: \"\",\n\n      popupHeader: \"Login failure\",\n      popupText: \"Something went wrong\",\n      show_popup: false,\n\n      show1: false,\n      show2: false,\n\n      rules: {\n        required: value => !!value || 'Required.',\n        min: v => v.length >= 8 || 'Min 8 characters',\n        //equal: ,\n        emailRules: v => /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/.test(v) || 'E-mail must be valid',\n      },\n  \n    }),\n    mounted() {\n        this.$emit(\"toggleHeader\", \"none\")\n    },\n\n    methods: {\n      ...mapActions([\"loginUser\"]),\n      submit(){\n        if (this.password.length < 8\n            || !(/^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/.test(this.email)))\n        {\n          this.show_popup = true\n          this.popupHeader =  \"Oops!\"\n          this.popupText = \"Field requirements have not been met.\"\n          return false\n        } else {\n          this.loginUser({\n            \"email\":this.email,\n            \"password\":this.password\n          }).then((result) => { // no backend errors thrown\n          this.$dbg_console_log(result)\n          if(result.success==1) {\n              //TODO: redirect to business dashboard\n              this.$cookies.set(\"token\", result.token, {secure: true, expires: 99983090})\n              console.log(\"TOKEN\",result.token)\n              this.$router.push('/store');\n              this.$dbg_console_log(\"Successful login\")\n          } else {\n              this.show_popup = true\n              this.popupHeader =  \"Login failure\"\n              this.popupText = result.message\n          }\n          }).catch(error => {\n              this.show_popup = true\n              this.popupHeader =  \"Internal Server Error\"\n              this.popupText = \"Something went wrong\"\n              this.$dbg_console_log(error)\n          })\n          return true\n        }\n        \n        }\n    }\n  }\n\n</script>\n<style scoped>\n  #wrapper {\n      margin-top: 10%;\n  }\n  #headerText {\n    font-size: 24px;\n  }\n  .v-text-field {\n    margin: 0px;\n  }\n\n  .v-select {\n    margin: 0px;\n  }\n\n  .check {\n    margin: 10px;\n  }\n\n  .center {\n    text-align: center;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .v-btn {\n    border-radius: 30px;\n    height: 110%;\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BusinessLogin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BusinessLogin.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BusinessLogin.vue?vue&type=template&id=c1916cdc&scoped=true&\"\nimport script from \"./BusinessLogin.vue?vue&type=script&lang=js&\"\nexport * from \"./BusinessLogin.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BusinessLogin.vue?vue&type=style&index=0&id=c1916cdc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c1916cdc\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VContainer,VDialog,VSpacer,VTextField})\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BusinessLogin.vue?vue&type=style&index=0&id=c1916cdc&scoped=true&lang=css&\""],"sourceRoot":""}