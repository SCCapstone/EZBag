(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d5edd8f8"],{"0fd9":function(e,t,n){"use strict";n("4b85");var s=n("2b0e"),o=n("d9f7"),a=n("80d2");const i=["sm","md","lg","xl"],c=["start","end","center"];function r(e,t){return i.reduce((n,s)=>(n[e+Object(a["w"])(s)]=t(),n),{})}const d=e=>[...c,"baseline","stretch"].includes(e),l=r("align",()=>({type:String,default:null,validator:d})),u=e=>[...c,"space-between","space-around"].includes(e),p=r("justify",()=>({type:String,default:null,validator:u})),h=e=>[...c,"space-between","space-around","stretch"].includes(e),g=r("alignContent",()=>({type:String,default:null,validator:h})),v={align:Object.keys(l),justify:Object.keys(p),alignContent:Object.keys(g)},m={align:"align",justify:"justify",alignContent:"align-content"};function f(e,t,n){let s=m[e];if(null!=n){if(t){const n=t.replace(e,"");s+="-"+n}return s+="-"+n,s.toLowerCase()}}const b=new Map;t["a"]=s["a"].extend({name:"v-row",functional:!0,props:{tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:d},...l,justify:{type:String,default:null,validator:u},...p,alignContent:{type:String,default:null,validator:h},...g},render(e,{props:t,data:n,children:s}){let a="";for(const o in t)a+=String(t[o]);let i=b.get(a);if(!i){let e;for(e in i=[],v)v[e].forEach(n=>{const s=t[n],o=f(e,n,s);o&&i.push(o)});i.push({"no-gutters":t.noGutters,"row--dense":t.dense,["align-"+t.align]:t.align,["justify-"+t.justify]:t.justify,["align-content-"+t.alignContent]:t.alignContent}),b.set(a,i)}return e(t.tag,Object(o["a"])(n,{staticClass:"row",class:i}),s)}})},"132d":function(e,t,n){"use strict";n("4804");var s,o=n("7e2b"),a=n("a9ad"),i=n("af2b"),c=n("7560"),r=n("80d2"),d=n("2b0e"),l=n("58df");function u(e){return["fas","far","fal","fab","fad"].some(t=>e.includes(t))}function p(e){return/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4}(function(e){e["xSmall"]="12px",e["small"]="16px",e["default"]="24px",e["medium"]="28px",e["large"]="36px",e["xLarge"]="40px"})(s||(s={}));const h=Object(l["a"])(o["a"],a["a"],i["a"],c["a"]).extend({name:"v-icon",props:{dense:Boolean,disabled:Boolean,left:Boolean,right:Boolean,size:[Number,String],tag:{type:String,required:!1,default:"i"}},computed:{medium(){return!1},hasClickListener(){return Boolean(this.listeners$.click||this.listeners$["!click"])}},methods:{getIcon(){let e="";return this.$slots.default&&(e=this.$slots.default[0].text.trim()),Object(r["v"])(this,e)},getSize(){const e={xSmall:this.xSmall,small:this.small,medium:this.medium,large:this.large,xLarge:this.xLarge},t=Object(r["s"])(e).find(t=>e[t]);return t&&s[t]||Object(r["f"])(this.size)},getDefaultData(){return{staticClass:"v-icon notranslate",class:{"v-icon--disabled":this.disabled,"v-icon--left":this.left,"v-icon--link":this.hasClickListener,"v-icon--right":this.right,"v-icon--dense":this.dense},attrs:{"aria-hidden":!this.hasClickListener,disabled:this.hasClickListener&&this.disabled,type:this.hasClickListener?"button":void 0,...this.attrs$},on:this.listeners$}},getSvgWrapperData(){const e=this.getSize(),t={...this.getDefaultData(),style:e?{fontSize:e,height:e,width:e}:void 0};return this.applyColors(t),t},applyColors(e){e.class={...e.class,...this.themeClasses},this.setTextColor(this.color,e)},renderFontIcon(e,t){const n=[],s=this.getDefaultData();let o="material-icons";const a=e.indexOf("-"),i=a<=-1;i?n.push(e):(o=e.slice(0,a),u(o)&&(o="")),s.class[o]=!0,s.class[e]=!i;const c=this.getSize();return c&&(s.style={fontSize:c}),this.applyColors(s),t(this.hasClickListener?"button":this.tag,s,n)},renderSvgIcon(e,t){const n={class:"v-icon__svg",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":!0}},s=this.getSize();return s&&(n.style={fontSize:s,height:s,width:s}),t(this.hasClickListener?"button":"span",this.getSvgWrapperData(),[t("svg",n,[t("path",{attrs:{d:e}})])])},renderSvgIconComponent(e,t){const n={class:{"v-icon__component":!0}},s=this.getSize();s&&(n.style={fontSize:s,height:s,width:s}),this.applyColors(n);const o=e.component;return n.props=e.props,n.nativeOn=n.on,t(this.hasClickListener?"button":"span",this.getSvgWrapperData(),[t(o,n)])}},render(e){const t=this.getIcon();return"string"===typeof t?p(t)?this.renderSvgIcon(t,e):this.renderFontIcon(t,e):this.renderSvgIconComponent(t,e)}});t["a"]=d["a"].extend({name:"v-icon",$_wrapperFor:h,functional:!0,render(e,{data:t,children:n}){let s="";return t.domProps&&(s=t.domProps.textContent||t.domProps.innerHTML||s,delete t.domProps.textContent,delete t.domProps.innerHTML),e(h,t,s?[s]:n)}})},"227f":function(e,t,n){"use strict";n("a231")},"288c":function(e,t,n){"use strict";n("d0cd");var s=n("169a");t["a"]=s["a"].extend({name:"v-bottom-sheet",props:{inset:Boolean,maxWidth:{type:[String,Number],default:"auto"},transition:{type:String,default:"bottom-sheet-transition"}},computed:{classes(){return{...s["a"].options.computed.classes.call(this),"v-bottom-sheet":!0,"v-bottom-sheet--inset":this.inset}}}})},"387fc":function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Scanner")],1)},o=[],a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-scandit",{staticClass:"v-scandit",attrs:{"license-key":"AZ8/Ug5hLjqmMAbzNgY90r9Cv7cjK9PQGVY+fCFQxRXOZLZ0AXBNwblHWITRd1iYdDQmhn1T/lBlYLkcNxURdVluSkcCPPA8qnHIkvJ/vHGcI8kIc1peT7hhv+wUYuDZAFSVGKNAW3YNeLmJLRgtdcgl2BEvIa/D5gQAFmYHWnTeObel0pyvJMwYV3YDv8DL35lmqB3ieAu4Db+OMGJD777/pGzvL7pEX0XucfhLiwuyvH2Gp7s0qQ3p/tEf6YFaIHhj+1MjAsKs+3UvWUqg9oUx0Amh+MLWwxqPSve7SjggQPMOKvdgvU8helgUrCk0ASff/p3lfzeJaVnel3TfJEf2FIzwn69JjsG//TmOgTwtYjVlsXzy5b7UoexWkwZbLanFR42yw2zgTKFiyKEXetFAd+FxMsAOAV84sW9gC05OmZI2NbEt0Y/XOiDcpDIHlvBRUJdliCkXlM2rDCInmU/FL8RZichbH7KrG8RN6Uy462MYVp5wx+vYcwQIwbClHfOFJFBuC47f9idh0xSYS/kPq9mkysjetBZWMGKxZxUiEmxRwQbukwUUz8XfSlgodYUvuyaoqKN46jaIeJlKLil9EFftjnzJBpjKHUFXLfvHqJ90NvI5YTsbOgwBL7sqmkqS6t7Ww+xankZsYkuAwjN/TlA0Tb+3dM8QOhRq1n35jLp01aBR9j6p4bQShY0mwtMAWetzy3uMKOJlGRw6l9ozzRQ62anydApDnQmd4WzhigIJJCKtCP6e1fRN1ZEDDHOkldgoN0nmxJ6R7T5gbm7TXopiYyVSSXEJUfoJ988jwNGTqnjJt144en6O7eBxeK5DEsEy//rPnA==","configuration-options":{engineLocation:"https://cdn.jsdelivr.net/npm/scandit-sdk@5.x/build/"},"scan-settings":{enabledSymbologies:["ean8","ean13","upca","upce"]}},on:{barcodePicker:function(t){return e.initPicker(t)},scan:function(t){e.findAndLoadProduct(t.barcodes[0].data)}}}),n("div",{directives:[{name:"show",rawName:"v-show",value:1==e.show_popup,expression:"show_popup==true"}]},[n("v-row",{attrs:{justify:"center"}},[n("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.show_popup,callback:function(t){e.show_popup=t},expression:"show_popup"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v(" Item not found! ")]),n("v-card-text",[e._v("This item could not be found in our database.")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{justify:"center",color:"green darken-1",text:""},on:{click:function(t){e.show_popup=!1}}},[e._v(" OK ")])],1)],1)],1)],1)],1),n("v-bottom-sheet",{attrs:{inset:"",persistent:""},model:{value:e.show_scanned_product,callback:function(t){e.show_scanned_product=t},expression:"show_scanned_product"}},[n("v-sheet",[n("v-card",[n("v-card",[n("v-card-title",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{placeholder:"Product name here..."},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),n("v-card-text",[n("div",{staticClass:"my-4 subtitle-1"},[e._v(" Product Description:"),n("br"),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"description"}],attrs:{placeholder:"Description here..."},domProps:{value:e.description},on:{input:function(t){t.target.composing||(e.description=t.target.value)}}})]),n("div",{staticClass:"my-4 subtitle-1"},[e._v(" Product Price: $ "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.price,expression:"price"}],domProps:{value:e.price},on:{input:function(t){t.target.composing||(e.price=t.target.value)}}})]),n("div",{staticClass:"my-4 subtitle-1"},[e._v(" Sales Tax Rate: "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.tax,expression:"tax"}],domProps:{value:e.tax},on:{input:function(t){t.target.composing||(e.tax=t.target.value)}}}),e._v("% ")])])],1),n("v-card-actions",{staticClass:"justify-center"},[n("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.show_delete,expression:"show_delete"}],on:{click:e.deleteScannedProduct}},[e._v("Delete "),n("v-icon",{attrs:{right:""}},[e._v("mdi-delete")])],1),n("v-btn",{on:{click:e.cancelScannedProduct}},[e._v("Cancel "),n("v-icon",{attrs:{right:""}},[e._v("mdi-close")])],1),n("v-btn",{on:{click:e.addScannedProduct}},[e._v("Add to store ")])],1)],1)],1)],1)],1)},i=[],c=(n("a4d3"),n("e01a"),n("b0c0"),n("5530")),r=n("2f62"),d={name:"Merchant Scanner",components:{},data:function(){return{clear_product_card_fields:!1,show_scanned_product:!1,show_popup:!1,show_delete:!1,scanned_product_barcode:0,barcodePicker:null,name:"test",description:"test",price:0,tax:0}},computed:Object(c["a"])({},Object(r["c"])(["getProductsInStore"])),methods:Object(c["a"])(Object(c["a"])({},Object(r["b"])(["lookupProduct","addProduct","deleteProduct","verifyToken"])),{},{initPicker:function(e){e.setMirrorImageEnabled(!1),e.setVideoFit("cover"),this.barcodePicker=e},findAndLoadProduct:function(e){var t=this;null!=this.barcodePicker&&(this.barcodePicker.pauseScanning(),this.$dbg_console_log("scanning paused",this.barcodePicker)),this.verifyToken().then((function(n){"failure"!==n.status?(t.$dbg_console_log("USER HAS VALID TOKEN"),t.scanned_product_barcode=e,t.lookupProduct({barcode:e,businessID:t.$route.params.id}).then((function(e){null===e.product?(console.log("product doesnt exist: "+t.name),t.show_delete=!1,t.name="",t.description="",t.price=0,t.tax=0):(console.log("product exists: "+e.product.name),t.show_delete=!0,t.name=e.product.name,t.description=e.product.description,t.price=e.product.price,t.tax=e.product.tax),t.show_scanned_product=!0})).catch((function(e){t.$dbg_console_log(e),null!=t.barcodePicker&&t.resetBarcodeScanner()}))):(t.$cookies.remove("token"),t.$router.push("/login"))})).catch((function(e){t.$dbg_console_log(e),null!=t.barcodePicker&&t.resetBarcodeScanner()}))},addScannedProduct:function(){var e=this;console.log("adding scanned product to store"),this.tax=this.tax/100,this.addProduct({barcode:this.scanned_product_barcode,barcodeType:"ean",businessID:this.$route.params.id,name:this.name,description:this.description,price:this.price,tax:this.tax}).then((function(t){e.$dbg_console_log("backend result",t),console.log(t.status)})).catch((function(t){e.$dbg_console_log(t)})),this.hideScannedProductCard(),null!=this.barcodePicker&&this.resetBarcodeScanner()},cancelScannedProduct:function(){this.hideScannedProductCard(),null!=this.barcodePicker&&this.resetBarcodeScanner()},deleteScannedProduct:function(){var e=this;this.$dbg_console_log("Deleting product..."),this.deleteProduct({barcode:this.scanned_product_barcode,businessID:this.$route.params.id}).then((function(t){t.productDeleted?e.$dbg_console_log("Successfully deleted product"):(e.show_popup=!0,e.$dbg_console_log("Failed to delete product!")),e.hideScannedProductCard()})).catch((function(t){e.$dbg_console_log(t),e.hideScannedProductCard()})),null!=this.barcodePicker&&this.resetBarcodeScanner()},hideScannedProductCard:function(){this.clear_product_card_fields=!0,this.show_scanned_product=!1,this.scanned_product_barcode=0,null!=this.barcodePicker&&this.resetBarcodeScanner()},resetBarcodeScanner:function(){this.barcodePicker.resumeScanning(),this.barcodePicker.clearSession(),this.$dbg_console_log("resume scanning",this.barcodePicker)}})},l=d,u=(n("227f"),n("2877")),p=n("6544"),h=n.n(p),g=n("288c"),v=n("8336"),m=n("b0af"),f=n("99d9"),b=n("169a"),_=n("132d"),S=n("0fd9"),w=n("8dd9"),x=n("2fa4"),k=Object(u["a"])(l,a,i,!1,null,"18a92018",null),P=k.exports;h()(k,{VBottomSheet:g["a"],VBtn:v["a"],VCard:m["a"],VCardActions:f["a"],VCardText:f["c"],VCardTitle:f["d"],VDialog:b["a"],VIcon:_["a"],VRow:S["a"],VSheet:w["a"],VSpacer:x["a"]});var y={name:"Scan",components:{Scanner:P}},C=y,j=Object(u["a"])(C,s,o,!1,null,null,null);t["default"]=j.exports},4804:function(e,t,n){},a231:function(e,t,n){},d0cd:function(e,t,n){}}]);
//# sourceMappingURL=chunk-d5edd8f8.feafe9a5.js.map